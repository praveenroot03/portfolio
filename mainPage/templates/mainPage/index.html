{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ portfolio.title_text|default:"Portfolio" }}</title>
    <link
      rel="preconnect"
      href="https://fonts.googleapis.com"
    />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="{% static 'mainPage/css/portfolio.css' %}" />
  </head>
  <body>
    <div class="page">
      <header class="hero">
        <div class="hero__media" aria-hidden="true">
          <img
            src="{% url 'mainPage:serve_image' 'bg' %}"
            alt=""
            class="hero__image"
          />
          <div class="hero__overlay"></div>
        </div>
        <div class="container hero__content">
          <p class="hero__eyebrow">Hello, I'm</p>
          <h1 class="hero__title">
            {{ portfolio.name_content|default:"A multidisciplinary creator" }}
          </h1>
          {% if portfolio %}
          <p class="hero__subtitle">{{ portfolio.title_text }}</p>
          {% endif %}
          {% if specialisations %}
          <ul class="hero__tags">
            {% for item in specialisations %}
            <li class="hero__tag">{{ item.specialisation_name }}</li>
            {% endfor %}
          </ul>
          {% endif %}
          <a class="button button--primary" href="#contact">Work with me</a>
        </div>
      </header>

      <main>
        <section class="section" id="about">
          <div class="container section__grid">
            <div class="section__media">
              <img
                src="{% url 'mainPage:serve_image' 'ab' %}"
                alt="Portrait of {{ portfolio.name_content|default:'the creator' }}"
                class="section__image"
              />
            </div>
            <div class="section__content">
              <h2>About</h2>
              {% if about %}
              {% for paragraph in about %}
              <p>{{ paragraph }}</p>
              {% endfor %}
              {% else %}
              <p>
                I'm passionate about building inclusive digital experiences that
                balance thoughtful strategy with beautiful execution.
              </p>
              {% endif %}
            </div>
          </div>
        </section>

        <section class="section section--accent" id="work">
          <div class="container">
            <div class="section__header">
              <h2>Featured writing &amp; projects</h2>
              <p>
                Explore a curated selection of recent articles and case studies.
              </p>
            </div>
            <div class="card-grid">
              {% if blogs %}
              {% for blog in blogs %}
              <article class="card">
                <p class="card__meta">
                  {{ blog.pub_date|date:"F j, Y" }}
                </p>
                <h3 class="card__title">{{ blog.title }}</h3>
                <a class="card__link" href="{{ blog.link }}" target="_blank" rel="noopener">
                  Read more
                  <span aria-hidden="true">→</span>
                </a>
              </article>
              {% endfor %}
              {% else %}
              <p class="card-grid__empty">No posts to share just yet—stay tuned!</p>
              {% endif %}
            </div>
          </div>
        </section>

        <section class="section" id="contact">
          <div class="container section__grid section__grid--reverse">
            <div class="section__content">
              <h2>Let's collaborate</h2>
              <p>
                Share a few details about your project or idea and I'll get back
                to you within two business days.
              </p>
              <ul class="contact-list">
                {% for contact in contacts %}
                <li>
                  <a href="{{ contact.link }}" target="_blank" rel="noopener">
                    {{ contact.get_types_display }}
                  </a>
                </li>
                {% empty %}
                <li>No social links are available at the moment.</li>
                {% endfor %}
              </ul>
            </div>
            <div class="section__media">
              <form method="post" class="form">
                {% csrf_token %}
                <div class="form__group">
                  <label for="name">Name</label>
                  <input type="text" id="name" name="name" required />
                </div>
                <div class="form__group">
                  <label for="email">Email</label>
                  <input type="email" id="email" name="email" required />
                </div>
                <div class="form__group">
                  <label for="message">Message</label>
                  <textarea id="message" name="message" rows="4" required></textarea>
                </div>
                <button type="submit" class="button button--secondary">
                  Send message
                </button>
                {% if response %}
                <p class="form__feedback" role="status">{{ response }}</p>
                {% endif %}
              </form>
            </div>
          </div>
        </section>
      </main>

      <footer class="footer">
        <div class="container footer__content">
          <p>
            ©
            {% if portfolio and portfolio.last_updated %}
            {{ portfolio.last_updated|date:"Y" }}
            {% else %}
            {% now "Y" %}
            {% endif %}
            {{ portfolio.name_content|default:"Portfolio" }}. Crafted with care.
          </p>
        </div>
      </footer>
    </div>
  </body>
</html>
